PRAGMA foreign_keys = OFF;
DELETE FROM students;
DELETE FROM attendance;
DELETE FROM app_logs;
PRAGMA foreign_keys = ON;

----------------------------------------------------
-- STUDENTS
----------------------------------------------------
INSERT INTO students (fio, fingerID, RFID, faceID) VALUES
  ('Иванов Иван',        'F001', 'R001', 'FACE001'), -- Отличник
  ('Петров Петр',        'F002', 'R002', 'FACE002'),
  ('Сидоров Сидор',      'F003', 'R003', 'FACE003'),
  ('Кузнецов Артем',     'F004', 'R004', 'FACE004'),
  ('Степанова Анна',     'F005', 'R005', 'FACE005');

----------------------------------------------------
-- ATTENDANCE
-- studentId 1 — всегда живой
-- 2–5 — случайные пропуски (~30%)
----------------------------------------------------

-- функция для читаемости
-- (далее просто формируются INSERTы)

-- === Предыдущая неделя ===========================================

-- 2025-11-24
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-11-24'),(2,1,'2025-11-24'),(3,1,'2025-11-24'),
(1,2,'2025-11-24'),
(1,3,'2025-11-24'),(2,3,'2025-11-24'),
(2,4,'2025-11-24'),(3,4,'2025-11-24'),
(1,5,'2025-11-24'),(2,5,'2025-11-24'),(3,5,'2025-11-24');

-- 2025-11-25
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-11-25'),(2,1,'2025-11-25'),(3,1,'2025-11-25'),
(1,2,'2025-11-25'),(3,2,'2025-11-25'),
(1,3,'2025-11-25'),(2,3,'2025-11-25'),(3,3,'2025-11-25'),
(2,4,'2025-11-25'),
(1,5,'2025-11-25'),(2,5,'2025-11-25');

-- 2025-11-26
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-11-26'),(2,1,'2025-11-26'),(3,1,'2025-11-26'),
(2,2,'2025-11-26'),(3,2,'2025-11-26'),
(1,3,'2025-11-26'),
(1,4,'2025-11-26'),(2,4,'2025-11-26'),
(1,5,'2025-11-26'),(3,5,'2025-11-26');

-- 2025-11-27
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-11-27'),(2,1,'2025-11-27'),(3,1,'2025-11-27'),
(1,2,'2025-11-27'),
(2,3,'2025-11-27'),(3,3,'2025-11-27'),
(1,4,'2025-11-27'),(2,4,'2025-11-27'),(3,4,'2025-11-27'),
(1,5,'2025-11-27');

-- 2025-11-28
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-11-28'),(2,1,'2025-11-28'),(3,1,'2025-11-28'),
(1,2,'2025-11-28'),(2,2,'2025-11-28'),
(3,3,'2025-11-28'),
(1,4,'2025-11-28'),(3,4,'2025-11-28'),
(1,5,'2025-11-28'),(2,5,'2025-11-28');

-- 2025-11-29
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-11-29'),(2,1,'2025-11-29'),(3,1,'2025-11-29'),
(2,2,'2025-11-29'),
(1,3,'2025-11-29'),
(1,4,'2025-11-29'),(2,4,'2025-11-29'),(3,4,'2025-11-29'),
(1,5,'2025-11-29'),(3,5,'2025-11-29');

-- 2025-11-30
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-11-30'),(2,1,'2025-11-30'),(3,1,'2025-11-30'),
(1,2,'2025-11-30'),
(1,3,'2025-11-30'),(3,3,'2025-11-30'),
(3,4,'2025-11-30'),
(1,5,'2025-11-30'),(2,5,'2025-11-30'),(3,5,'2025-11-30');

-- === Текущая неделя ===============================================

-- 2025-12-01
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-12-01'),(2,1,'2025-12-01'),(3,1,'2025-12-01'),
(1,2,'2025-12-01'),(2,2,'2025-12-01'),
(2,3,'2025-12-01'),
(1,4,'2025-12-01'),(2,4,'2025-12-01'),(3,4,'2025-12-01'),
(3,5,'2025-12-01');

-- 2025-12-02
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-12-02'),(2,1,'2025-12-02'),(3,1,'2025-12-02'),
(1,2,'2025-12-02'),(3,2,'2025-12-02'),
(1,3,'2025-12-02'),(2,3,'2025-12-02'),
(1,4,'2025-12-02'),
(1,5,'2025-12-02'),(2,5,'2025-12-02'),(3,5,'2025-12-02');

-- 2025-12-03
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-12-03'),(2,1,'2025-12-03'),(3,1,'2025-12-03'),
(1,2,'2025-12-03'),
(1,3,'2025-12-03'),(2,3,'2025-12-03'),
(1,4,'2025-12-03'),(3,4,'2025-12-03'),
(2,5,'2025-12-03');

-- 2025-12-04
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-12-04'),(2,1,'2025-12-04'),(3,1,'2025-12-04'),
(3,2,'2025-12-04'),
(1,3,'2025-12-04'),(2,3,'2025-12-04'),(3,3,'2025-12-04'),
(1,4,'2025-12-04'),(2,4,'2025-12-04'),
(3,5,'2025-12-04');

-- 2025-12-05
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-12-05'),(2,1,'2025-12-05'),(3,1,'2025-12-05'),
(1,2,'2025-12-05'),(2,2,'2025-12-05'),
(1,3,'2025-12-05'),
(1,4,'2025-12-05'),(2,4,'2025-12-05'),(3,4,'2025-12-05'),
(2,5,'2025-12-05');

-- 2025-12-06
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-12-06'),(2,1,'2025-12-06'),(3,1,'2025-12-06'),
(2,2,'2025-12-06'),
(1,3,'2025-12-06'),(3,3,'2025-12-06'),
(1,4,'2025-12-06'),(2,4,'2025-12-06'),
(1,5,'2025-12-06'),(3,5,'2025-12-06');

-- 2025-12-07
INSERT INTO attendance (lessonId, studentId, lessonDate) VALUES
(1,1,'2025-12-07'),(2,1,'2025-12-07'),(3,1,'2025-12-07'),
(1,2,'2025-12-07'),
(2,3,'2025-12-07'),
(1,4,'2025-12-07'),(2,4,'2025-12-07'),(3,4,'2025-12-07'),
(2,5,'2025-12-07'),(3,5,'2025-12-07');
